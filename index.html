<!DOCTYPE html>
<html>
  <head>
    <title>OAuth Redirect</title>
    <script>
      // Parse the auth code from the URL and copy it to clipboard
      const urlParams = new URLSearchParams(window.location.search);
      const code = urlParams.get('code');
      if (code) {
        // Copy code to clipboard
        navigator.clipboard.writeText(code).then(() => {
          alert("Authorization code copied to clipboard:\n\n" + code);
        });

        // Show code on screen
        document.addEventListener("DOMContentLoaded", () => {
          document.getElementById("code").textContent = code;
        });
      }
    </script>
  </head>
  <body>
    <h2>FreshBooks OAuth Redirect</h2>
    <p>Your authorization code:</p>
    <pre id="code">Waiting for code...</pre>
    <p>You can now close this page and paste the code into your script.</p>
  </body>
</html>
